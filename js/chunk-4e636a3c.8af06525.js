(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4e636a3c"],{"159b":function(t,e,a){var i=a("da84"),o=a("fdbc"),n=a("17c2"),r=a("9112");for(var s in o){var l=i[s],c=l&&l.prototype;if(c&&c.forEach!==n)try{r(c,"forEach",n)}catch(u){c.forEach=n}}},"17c2":function(t,e,a){"use strict";var i=a("b727").forEach,o=a("a640"),n=a("ae40"),r=o("forEach"),s=n("forEach");t.exports=r&&s?[].forEach:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}},"1a23":function(t,e,a){"use strict";a.r(e),a.d(e,"CountUp",(function(){return o}));var i=function(){return(i=Object.assign||function(t){for(var e,a=1,i=arguments.length;a<i;a++)for(var o in e=arguments[a])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},o=function(){function t(t,e,a){var o=this;this.target=t,this.endVal=e,this.options=a,this.version="2.0.7",this.defaults={startVal:0,decimalPlaces:0,duration:2,useEasing:!0,useGrouping:!0,smartEasingThreshold:999,smartEasingAmount:333,separator:",",decimal:".",prefix:"",suffix:""},this.finalEndVal=null,this.useEasing=!0,this.countDown=!1,this.error="",this.startVal=0,this.paused=!0,this.count=function(t){o.startTime||(o.startTime=t);var e=t-o.startTime;o.remaining=o.duration-e,o.useEasing?o.countDown?o.frameVal=o.startVal-o.easingFn(e,0,o.startVal-o.endVal,o.duration):o.frameVal=o.easingFn(e,o.startVal,o.endVal-o.startVal,o.duration):o.countDown?o.frameVal=o.startVal-(o.startVal-o.endVal)*(e/o.duration):o.frameVal=o.startVal+(o.endVal-o.startVal)*(e/o.duration),o.countDown?o.frameVal=o.frameVal<o.endVal?o.endVal:o.frameVal:o.frameVal=o.frameVal>o.endVal?o.endVal:o.frameVal,o.frameVal=Number(o.frameVal.toFixed(o.options.decimalPlaces)),o.printValue(o.frameVal),e<o.duration?o.rAF=requestAnimationFrame(o.count):null!==o.finalEndVal?o.update(o.finalEndVal):o.callback&&o.callback()},this.formatNumber=function(t){var e,a,i,n,r,s=t<0?"-":"";if(e=Math.abs(t).toFixed(o.options.decimalPlaces),i=(a=(e+="").split("."))[0],n=a.length>1?o.options.decimal+a[1]:"",o.options.useGrouping){r="";for(var l=0,c=i.length;l<c;++l)0!==l&&l%3==0&&(r=o.options.separator+r),r=i[c-l-1]+r;i=r}return o.options.numerals&&o.options.numerals.length&&(i=i.replace(/[0-9]/g,(function(t){return o.options.numerals[+t]})),n=n.replace(/[0-9]/g,(function(t){return o.options.numerals[+t]}))),s+o.options.prefix+i+n+o.options.suffix},this.easeOutExpo=function(t,e,a,i){return a*(1-Math.pow(2,-10*t/i))*1024/1023+e},this.options=i(i({},this.defaults),a),this.formattingFn=this.options.formattingFn?this.options.formattingFn:this.formatNumber,this.easingFn=this.options.easingFn?this.options.easingFn:this.easeOutExpo,this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.endVal=this.validateValue(e),this.options.decimalPlaces=Math.max(this.options.decimalPlaces),this.resetDuration(),this.options.separator=String(this.options.separator),this.useEasing=this.options.useEasing,""===this.options.separator&&(this.options.useGrouping=!1),this.el="string"==typeof t?document.getElementById(t):t,this.el?this.printValue(this.startVal):this.error="[CountUp] target is null or undefined"}return t.prototype.determineDirectionAndSmartEasing=function(){var t=this.finalEndVal?this.finalEndVal:this.endVal;this.countDown=this.startVal>t;var e=t-this.startVal;if(Math.abs(e)>this.options.smartEasingThreshold){this.finalEndVal=t;var a=this.countDown?1:-1;this.endVal=t+a*this.options.smartEasingAmount,this.duration=this.duration/2}else this.endVal=t,this.finalEndVal=null;this.finalEndVal?this.useEasing=!1:this.useEasing=this.options.useEasing},t.prototype.start=function(t){this.error||(this.callback=t,this.duration>0?(this.determineDirectionAndSmartEasing(),this.paused=!1,this.rAF=requestAnimationFrame(this.count)):this.printValue(this.endVal))},t.prototype.pauseResume=function(){this.paused?(this.startTime=null,this.duration=this.remaining,this.startVal=this.frameVal,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count)):cancelAnimationFrame(this.rAF),this.paused=!this.paused},t.prototype.reset=function(){cancelAnimationFrame(this.rAF),this.paused=!0,this.resetDuration(),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.printValue(this.startVal)},t.prototype.update=function(t){cancelAnimationFrame(this.rAF),this.startTime=null,this.endVal=this.validateValue(t),this.endVal!==this.frameVal&&(this.startVal=this.frameVal,this.finalEndVal||this.resetDuration(),this.finalEndVal=null,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count))},t.prototype.printValue=function(t){var e=this.formattingFn(t);"INPUT"===this.el.tagName?this.el.value=e:"text"===this.el.tagName||"tspan"===this.el.tagName?this.el.textContent=e:this.el.innerHTML=e},t.prototype.ensureNumber=function(t){return"number"==typeof t&&!isNaN(t)},t.prototype.validateValue=function(t){var e=Number(t);return this.ensureNumber(e)?e:(this.error="[CountUp] invalid start or end value: "+t,null)},t.prototype.resetDuration=function(){this.startTime=null,this.duration=1e3*Number(this.options.duration),this.remaining=this.duration},t}()},4160:function(t,e,a){"use strict";var i=a("23e7"),o=a("17c2");i({target:"Array",proto:!0,forced:[].forEach!=o},{forEach:o})},"45fc":function(t,e,a){"use strict";var i=a("23e7"),o=a("b727").some,n=a("a640"),r=a("ae40"),s=n("some"),l=r("some");i({target:"Array",proto:!0,forced:!s||!l},{some:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},"4fad":function(t,e,a){},"7db0":function(t,e,a){"use strict";var i=a("23e7"),o=a("b727").find,n=a("44d2"),r=a("ae40"),s="find",l=!0,c=r(s);s in[]&&Array(1)[s]((function(){l=!1})),i({target:"Array",proto:!0,forced:l||!c},{find:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),n(s)},"87f4":function(t,e,a){!function(e,i){t.exports=i(a("1a23"))}(0,(function(t){"use strict";var e,a=(e="Function",function(t){return Object.prototype.toString.call(t)==="[object ".concat(e,"]")}),i={__countup__:t.CountUp,name:"VueCountUp",props:{delay:{type:Number,required:!1,default:0},endVal:{type:Number,required:!0},options:{type:Object,required:!1}},data:function(){return{instance:null}},watch:{endVal:{handler:function(t){this.instance&&a(this.instance.update)&&this.instance.update(t)},deep:!1}},methods:{create:function(){var e=this;if(!e.instance){var a=e.$el,i=new t.CountUp(a,e.endVal,e.options);i.error||(e.instance=i,e.delay<0?e.$emit("ready",i,t.CountUp):setTimeout((function(){return i.start((function(){return e.$emit("ready",i,t.CountUp)}))}),e.delay))}},destroy:function(){this.instance=null},printValue:function(t){if(this.instance&&a(this.instance.printValue))return this.instance.printValue(t)},start:function(t){if(this.instance&&a(this.instance.start))return this.instance.start(t)},pauseResume:function(){if(this.instance&&a(this.instance.pauseResume))return this.instance.pauseResume()},reset:function(){if(this.instance&&a(this.instance.reset))return this.instance.reset()},update:function(t){if(this.instance&&a(this.instance.update))return this.instance.update(t)}},mounted:function(){this.create()},beforeDestroy:function(){this.destroy()}};return function(t,e){void 0===e&&(e={});var a=e.insertAt;if(t&&"undefined"!=typeof document){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===a&&i.firstChild?i.insertBefore(o,i.firstChild):i.appendChild(o),o.styleSheet?o.styleSheet.cssText=t:o.appendChild(document.createTextNode(t))}}(""),function(t,e,a,i,o,n,r,s,l,c){"boolean"!=typeof r&&(l=s,s=r,r=!1);var u,d="function"==typeof a?a.options:a;if(t&&t.render&&(d.render=t.render,d.staticRenderFns=t.staticRenderFns,d._compiled=!0,o&&(d.functional=!0)),i&&(d._scopeId=i),n?(u=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,l(t)),t&&t._registeredComponents&&t._registeredComponents.add(n)},d._ssrRegister=u):e&&(u=r?function(){e.call(this,c(this.$root.$options.shadowRoot))}:function(t){e.call(this,s(t))}),u)if(d.functional){var p=d.render;d.render=function(t,e){return u.call(e),p(t,e)}}else{var f=d.beforeCreate;d.beforeCreate=f?[].concat(f,u):[u]}return a}({render:function(){var t=this.$createElement;return(this._self._c||t)("span")},staticRenderFns:[]},void 0,i,"data-v-0abbdf5a",!1,void 0,void 0,void 0)}))},"8cc2":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{"padding-bottom":"3vh"}},[a("div",{staticClass:"container"},[a("section",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"foodList"},[a("h4",{staticClass:"block-title"},[a("search-icon"),t._v("食物查詢 ")],1),a("div",{staticClass:"searchBar"},[a("input",{staticStyle:{width:"165px"},attrs:{type:"text"}}),a("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.searchFood(e)}}},[t._v("搜尋")]),a("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.showAll(e)}}},[t._v("顯示全部")])]),a("div",{staticClass:"instruction"},[a("div",{staticClass:"icon-info"},[a("p",[a("meat-icon"),t._v(": 蛋白質類")],1),a("p",[a("grain-icon"),t._v(": 碳水類")],1),a("p",[a("oil-icon"),t._v(": 油脂類")],1)])]),a("div",{staticClass:"nameList"},t._l(t.resultFood,(function(e){return a("div",{key:e._id,staticClass:"foodInfo"},[a("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.toggleShow(e)}}},[a(e.carbo>e.fat&&e.carbo>e.protein?"grain-icon":e.protein>e.fat&&e.protein>e.carbo?"meat-icon":"oil-icon",{tag:"component"}),t._v(t._s(e.name))],1),a("div",[a("span",{staticClass:"addList",staticStyle:{color:"green"},on:{click:function(a){return a.preventDefault(),t.addList(e._id)}}},[t._v("加入菜單"),a("font-awesome-icon",{staticStyle:{"margin-left":"5px"},attrs:{icon:["fas","plus"]}})],1)]),a("div",{staticClass:"nutritions col-md-12"},[a("p",[t._v("每100g營養成分:")]),a("ul",[a("li",[t._v("熱量: "+t._s(e.calories)+"g")]),a("li",[t._v("蛋白質: "+t._s(e.protein)+"g")]),a("li",[t._v("碳水化合物: "+t._s(e.carbo)+"g")]),a("li",[t._v("脂肪: "+t._s(e.fat)+"g")])])])])})),0)])]),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"foodPlan"},[a("h4",{staticClass:"block-title"},[a("plan-icon"),t._v("菜單規劃 ")],1),a("div",{staticClass:"instruction"},[a("p",{staticStyle:{margin:"0"}},[t._v("點擊食物名稱即可輸入重量")]),a("div",{staticClass:"icon-info"},[a("p",[a("meat-icon"),t._v(": 蛋白質類")],1),a("p",[a("grain-icon"),t._v(": 碳水類")],1),a("p",[a("oil-icon"),t._v(": 油脂類")],1)])]),a("div",{staticClass:"nameList"},t._l(t.planFoods,(function(e){return a("div",{key:e._id,staticClass:"foodInfo"},[a("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.toggleCalculate(e)}}},[a(e.carbo>e.fat&&e.carbo>e.protein?"grain-icon":e.protein>e.fat&&e.protein>e.carbo?"meat-icon":"oil-icon",{tag:"component"}),t._v(t._s(e.name))],1),a("span",{staticClass:"addList",staticStyle:{color:"#a51e1e"},on:{click:function(a){return a.preventDefault(),t.removeFood(e._id)}}},[t._v("踢出菜單"),a("font-awesome-icon",{staticStyle:{"margin-left":"5px"},attrs:{icon:["fas","times"]}})],1),a("div",{staticClass:"plan-nutritions col-md-12"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.foodWeight,expression:"foodWeight"}],attrs:{type:"number",placeholder:"輸入重量(公克)"},domProps:{value:t.foodWeight},on:{input:function(e){e.target.composing||(t.foodWeight=e.target.value)}}}),a("a",{attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.calculate(e,t.foodWeight)}}},[t._v("加入")]),t.foodWeight?a("p",[t._v("每"+t._s(t.foodWeight)+"g營養成分:")]):t._e(),t.foodWeight?a("ul",[a("li",[t._v("熱量: "+t._s(Math.round(e.calories*t.foodWeight*.01,2))+"g")]),a("li",[t._v("蛋白質: "+t._s(Math.floor(e.protein*t.foodWeight*.01))+"g")]),a("li",[t._v("碳水化合物: "+t._s(Math.floor(e.carbo*t.foodWeight*.01))+"g")]),a("li",[t._v("脂肪: "+t._s(Math.round(e.fat*t.foodWeight*.01))+"g")])]):t._e()])])})),0)])])]),a("section",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"today-result"},[a("h4",{staticClass:"block-title"},[a("food-icon"),t._v("今日飲食 ")],1),a("div",{staticClass:"result-row"},[a("div",{staticClass:"col-md-6"},[a("ul",{staticClass:"todayFoods"},t._l(t.eatFoods,(function(e){return a("li",{key:e.id},[t._v(t._s(e.food)+": "+t._s(e.weight)+"g")])})),0),a("ul",{staticClass:"resultNumbers"},[a("li",{class:t.caloriesNumber},[a("life-icon"),t._v("總熱量: "),a("Counter",{attrs:{delay:t.delay,endVal:Math.round(t.calculateList.calories,2),options:t.options},on:{ready:t.onCalories}}),t._v(" kcal ")],1),t.calculateList.calories<t.target.calories?a("li",[t._v("距離目標還有約"+t._s((t.target.calories-t.calculateList.calories).toFixed(2))+" kcal")]):a("li",{staticClass:"text-danger"},[t._v("熱量超標啦")]),a("li",{class:t.proteinNumber},[a("meat-icon"),t._v("總蛋白質: "),a("Counter",{attrs:{delay:t.delay,endVal:Math.round(t.calculateList.protein,2),options:t.options},on:{ready:t.onProtein}}),t._v(" g")],1),t.calculateList.protein<1.2*t.target.protein?a("li",[t._v("距離上限還有約"+t._s((1.2*t.target.protein-t.calculateList.protein).toFixed(2))+" g")]):a("li",{staticClass:"text-danger"},[t._v("蛋白質超標啦")]),a("li",{class:t.carboNumber},[a("grain-icon"),t._v("總碳水: "),a("Counter",{attrs:{delay:t.delay,endVal:Math.round(t.calculateList.carbo,2),options:t.options},on:{ready:t.onCarbo}}),t._v(" g")],1),t.calculateList.carbo<1.2*t.target.carbo?a("li",[t._v("距離上限還有約"+t._s((1.2*t.target.carbo-t.calculateList.carbo).toFixed(2))+" g")]):a("li",{staticClass:"text-danger"},[t._v("碳水超標啦")]),a("li",{class:t.fatNumber},[a("oil-icon"),t._v("總脂肪: "),a("Counter",{attrs:{delay:t.delay,endVal:Math.round(t.calculateList.fat,2),options:t.options},on:{ready:t.onFat}}),t._v(" g")],1),t.calculateList.fat<t.target.fat?a("li",[t._v("距離上限還有約"+t._s((t.target.fat-t.calculateList.fat).toFixed(2))+" g")]):a("li",{staticClass:"text-danger"},[t._v("脂肪超標啦")])])]),a("div",{staticClass:"col-md-6"},[a("Chart",{attrs:{"chart-data":t.chartData,options:t.options}}),a("div",{staticClass:"chart-btn-block"},[t.calculateList.calories?a("button",{staticClass:"chart-btn form-btn",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.clear(e)}}},[t._v("重新計算")]):t._e(),t.calculateList.calories?a("button",{staticClass:"chart-btn form-btn",attrs:{href:"#",disabled:!t.recordBtn.status},on:{click:function(e){return e.preventDefault(),t.record(e)}}},[t._v(t._s(t.recordBtn.text))]):t._e()])],1)])])])])])])},o=[],n=(a("99af"),a("7db0"),a("c740"),a("4160"),a("caad"),a("c975"),a("45fc"),a("a434"),a("b0c0"),a("b680"),a("ac1f"),a("2532"),a("1276"),a("159b"),a("96cf"),a("1da1")),r=a("87f4"),s=a.n(r),l=a("1fca"),c=l["c"].reactiveProp,u={extends:l["b"],mixins:[c],props:["options"],mounted:function(){this.renderChart(this.chartData,this.options)}},d=function(t,e){var a=e._c;return a("span",e._g(e._b({staticClass:"material-design-icon silverware-fork-knife-icon",class:[e.data.class,e.data.staticClass],attrs:{"aria-hidden":e.props.decorative,"aria-label":e.props.title,role:"img"}},"span",e.data.attrs,!1),e.listeners),[a("svg",{staticClass:"material-design-icon__svg",attrs:{fill:e.props.fillColor,width:e.props.size,height:e.props.size,viewBox:"0 0 24 24"}},[a("path",{attrs:{d:"M11,9H9V2H7V9H5V2H3V9C3,11.12 4.66,12.84 6.75,12.97V22H9.25V12.97C11.34,12.84 13,11.12 13,9V2H11V9M16,6V14H18.5V22H21V2C18.24,2 16,4.24 16,6Z"}},[a("title",[e._v(e._s(e.props.title))])])])])},p=[],f=(a("a9e3"),{name:"SilverwareForkKnifeIcon",props:{title:{type:String,default:"Silverware Fork Knife icon"},decorative:{type:Boolean,default:!1},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}}),h=f,g=a("2877"),m=Object(g["a"])(h,d,p,!0,null,null,null),v=m.exports,C=function(t,e){var a=e._c;return a("span",e._g(e._b({staticClass:"material-design-icon notebook-multiple-icon",class:[e.data.class,e.data.staticClass],attrs:{"aria-hidden":e.props.decorative,"aria-label":e.props.title,role:"img"}},"span",e.data.attrs,!1),e.listeners),[a("svg",{staticClass:"material-design-icon__svg",attrs:{fill:e.props.fillColor,width:e.props.size,height:e.props.size,viewBox:"0 0 24 24"}},[a("path",{attrs:{d:"M9.05,9H7.06V6H9.05V4.03H7.06V3.03C7.06,1.92 7.95,1.04 9.05,1.04H15.03V8L17.5,6.5L20,8V1.04H21C22.05,1.04 23,2 23,3.03V17C23,18.03 22.05,19 21,19H9.05C8,19 7.06,18.05 7.06,17V16H9.05V14H7.06V11H9.05V9M1,18H3V15H1V13H3V10H1V8H3V5H5V8H3V10H5V13H3V15H5V18H3V20H5V21H21V23H5A2,2 0 0,1 3,21V20H1V18Z"}},[a("title",[e._v(e._s(e.props.title))])])])])},b=[],_={name:"NotebookMultipleIcon",props:{title:{type:String,default:"Notebook Multiple icon"},decorative:{type:Boolean,default:!1},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},V=_,y=Object(g["a"])(V,C,b,!0,null,null,null),x=y.exports,F=function(t,e){var a=e._c;return a("span",e._g(e._b({staticClass:"material-design-icon text-search-icon",class:[e.data.class,e.data.staticClass],attrs:{"aria-hidden":e.props.decorative,"aria-label":e.props.title,role:"img"}},"span",e.data.attrs,!1),e.listeners),[a("svg",{staticClass:"material-design-icon__svg",attrs:{fill:e.props.fillColor,width:e.props.size,height:e.props.size,viewBox:"0 0 24 24"}},[a("path",{attrs:{d:"M19.31 18.9L22.39 22L21 23.39L17.88 20.32C17.19 20.75 16.37 21 15.5 21C13 21 11 19 11 16.5C11 14 13 12 15.5 12C18 12 20 14 20 16.5C20 17.38 19.75 18.21 19.31 18.9M15.5 19C16.88 19 18 17.88 18 16.5C18 15.12 16.88 14 15.5 14C14.12 14 13 15.12 13 16.5C13 17.88 14.12 19 15.5 19M21 4V6H3V4H21M3 16V14H9V16H3M3 11V9H21V11H18.97C17.96 10.37 16.77 10 15.5 10C14.23 10 13.04 10.37 12.03 11H3Z"}},[a("title",[e._v(e._s(e.props.title))])])])])},w=[],L={name:"TextSearchIcon",props:{title:{type:String,default:"Text Search icon"},decorative:{type:Boolean,default:!1},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},S=L,E=Object(g["a"])(S,F,w,!0,null,null,null),N=E.exports,k=function(t,e){var a=e._c;return a("span",e._g(e._b({staticClass:"material-design-icon barley-icon",class:[e.data.class,e.data.staticClass],attrs:{"aria-hidden":e.props.decorative,"aria-label":e.props.title,role:"img"}},"span",e.data.attrs,!1),e.listeners),[a("svg",{staticClass:"material-design-icon__svg",attrs:{fill:e.props.fillColor,width:e.props.size,height:e.props.size,viewBox:"0 0 24 24"}},[a("path",{attrs:{d:"M7.33,18.33C6.5,17.17 6.5,15.83 6.5,14.5C8.17,15.5 9.83,16.5 10.67,17.67L11,18.23V15.95C9.5,15.05 8.08,14.13 7.33,13.08C6.5,11.92 6.5,10.58 6.5,9.25C8.17,10.25 9.83,11.25 10.67,12.42L11,13V10.7C9.5,9.8 8.08,8.88 7.33,7.83C6.5,6.67 6.5,5.33 6.5,4C8.17,5 9.83,6 10.67,7.17C10.77,7.31 10.86,7.46 10.94,7.62C10.77,7 10.66,6.42 10.65,5.82C10.64,4.31 11.3,2.76 11.96,1.21C12.65,2.69 13.34,4.18 13.35,5.69C13.36,6.32 13.25,6.96 13.07,7.59C13.15,7.45 13.23,7.31 13.33,7.17C14.17,6 15.83,5 17.5,4C17.5,5.33 17.5,6.67 16.67,7.83C15.92,8.88 14.5,9.8 13,10.7V13L13.33,12.42C14.17,11.25 15.83,10.25 17.5,9.25C17.5,10.58 17.5,11.92 16.67,13.08C15.92,14.13 14.5,15.05 13,15.95V18.23L13.33,17.67C14.17,16.5 15.83,15.5 17.5,14.5C17.5,15.83 17.5,17.17 16.67,18.33C15.92,19.38 14.5,20.3 13,21.2V23H11V21.2C9.5,20.3 8.08,19.38 7.33,18.33Z"}},[a("title",[e._v(e._s(e.props.title))])])])])},H=[],I={name:"BarleyIcon",props:{title:{type:String,default:"Barley icon"},decorative:{type:Boolean,default:!1},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},D=I,O=Object(g["a"])(D,k,H,!0,null,null,null),A=O.exports,M=function(t,e){var a=e._c;return a("span",e._g(e._b({staticClass:"material-design-icon food-drumstick-icon",class:[e.data.class,e.data.staticClass],attrs:{"aria-hidden":e.props.decorative,"aria-label":e.props.title,role:"img"}},"span",e.data.attrs,!1),e.listeners),[a("svg",{staticClass:"material-design-icon__svg",attrs:{fill:e.props.fillColor,width:e.props.size,height:e.props.size,viewBox:"0 0 24 24"}},[a("path",{attrs:{d:"M20.16 12.73C22.93 9.96 22.57 5.26 19.09 3C17.08 1.67 14.39 1.66 12.36 2.97C10.6 4.1 9.63 5.86 9.46 7.68C9.33 9 8.83 10.23 7.91 11.15L7.88 11.18C6.72 12.34 6.72 14.11 7.81 15.19L8.8 16.18C9.89 17.27 11.66 17.27 12.75 16.18C13.72 15.21 15 14.68 16.39 14.53C17.76 14.38 19.1 13.78 20.16 12.73M6.26 19.86C6.53 20.42 6.44 21.1 5.97 21.56C5.39 22.15 4.44 22.15 3.85 21.56C3.58 21.29 3.44 20.94 3.42 20.58C3.06 20.56 2.71 20.42 2.44 20.15C1.85 19.56 1.85 18.61 2.44 18.03C2.9 17.57 3.59 17.47 4.14 17.74L6.62 15.31C6.76 15.5 6.92 15.72 7.1 15.9L8.09 16.89C8.3 17.09 8.5 17.26 8.76 17.41L6.26 19.86Z"}},[a("title",[e._v(e._s(e.props.title))])])])])},B=[],T={name:"FoodDrumstickIcon",props:{title:{type:String,default:"Food Drumstick icon"},decorative:{type:Boolean,default:!1},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},$=T,z=Object(g["a"])($,M,B,!0,null,null,null),R=z.exports,W=function(t,e){var a=e._c;return a("span",e._g(e._b({staticClass:"material-design-icon water-icon",class:[e.data.class,e.data.staticClass],attrs:{"aria-hidden":e.props.decorative,"aria-label":e.props.title,role:"img"}},"span",e.data.attrs,!1),e.listeners),[a("svg",{staticClass:"material-design-icon__svg",attrs:{fill:e.props.fillColor,width:e.props.size,height:e.props.size,viewBox:"0 0 24 24"}},[a("path",{attrs:{d:"M12,20A6,6 0 0,1 6,14C6,10 12,3.25 12,3.25C12,3.25 18,10 18,14A6,6 0 0,1 12,20Z"}},[a("title",[e._v(e._s(e.props.title))])])])])},j=[],P={name:"WaterIcon",props:{title:{type:String,default:"Water icon"},decorative:{type:Boolean,default:!1},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},U=P,J=Object(g["a"])(U,W,j,!0,null,null,null),q=J.exports,Z=function(t,e){var a=e._c;return a("span",e._g(e._b({staticClass:"material-design-icon lightning-bolt-icon",class:[e.data.class,e.data.staticClass],attrs:{"aria-hidden":e.props.decorative,"aria-label":e.props.title,role:"img"}},"span",e.data.attrs,!1),e.listeners),[a("svg",{staticClass:"material-design-icon__svg",attrs:{fill:e.props.fillColor,width:e.props.size,height:e.props.size,viewBox:"0 0 24 24"}},[a("path",{attrs:{d:"M11 15H6L13 1V9H18L11 23V15Z"}},[a("title",[e._v(e._s(e.props.title))])])])])},G=[],K={name:"LightningBoltIcon",props:{title:{type:String,default:"Lightning Bolt icon"},decorative:{type:Boolean,default:!1},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},X=K,Y=Object(g["a"])(X,Z,G,!0,null,null,null),Q=Y.exports,tt=a("1954"),et={components:{Chart:u,Counter:s.a,foodIcon:v,planIcon:x,searchIcon:N,grainIcon:A,meatIcon:R,oilIcon:q,lifeIcon:Q},data:function(){return{recordBtn:{text:"登錄結果",status:!0},delay:10,options:{layout:{padding:{left:0,right:0,top:0,bottom:0}},legend:{position:"top",align:"center",labels:{boxWidth:20}},tooltips:{callbacks:{title:function(t,e){return e.labels[t[0].index]},label:function(t,e){return"".concat(e.datasets[t.datasetIndex].data[t.index],"%")}}},cutoutPercentage:35,title:{display:!1,text:"各類型資產統計"}},resultFood:[],planFoods:[],eatFoods:[],foodWeight:"",calculateList:{calories:0,carbo:0,protein:0,fat:0},graphData:[],chartOptions:{cutoutPercentage:50},chartData:{labels:["carbo","protein","fat","other"],datasets:[{label:["carbo","protein","fat","other"],backgroundColor:["#28a745","#ffeeba","#dc3545","#000000"],data:[0,0,0,0],borderWidth:5,borderColor:"#ccc"}]},target:{}}},methods:{getFood:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$store.dispatch("getFood");case 1:case"end":return e.stop()}}),e)})))()},searchFood:function(){var t=this;t.resultFood=[];var e=document.querySelector("input").value;e&&t.foods.forEach((function(a){a.name.includes(e)&&t.resultFood.push(a)}))},toggleShow:function(t){t.target.nextElementSibling.nextElementSibling.classList.toggle("show")},toggleCalculate:function(t){var e=this,a=document.querySelectorAll(".plan-nutritions.show"),i=document.querySelectorAll(".plan-nutritions input");t.target.nextElementSibling.nextElementSibling.classList.toggle("show"),a.forEach((function(t){return t.classList.remove("show")})),i.forEach((function(t){return t.focus()})),e.foodWeight=""},showAll:function(){var t=this;t.resultFood=t.foods},addList:function(t){var e=this,a=this,i=!this.planFoods.some((function(e){return e._id===t}));i?a.planFoods.push(a.foods.find((function(e){return e._id===t}))):this.$modal.show("dialog",{title:"此食物已經在計畫中",buttons:[{title:"OK",handler:function(){e.$modal.hide("dialog")}}]}),localStorage.setItem("currentList",JSON.stringify(a.planFoods))},removeFood:function(t){var e=this,a=e.planFoods.find((function(e){return e.id===t})),i=e.planFoods.indexOf(a);e.planFoods.splice(i,1),localStorage.setItem("currentList",JSON.stringify(e.planFoods))},getList:function(){var t=this;t.planFoods=localStorage.getItem("currentList")?JSON.parse(localStorage.getItem("currentList")):[]},calculate:function(t,e){var a=this;e<0||(a.calculateList.calories+=t.calories*e*.01,a.calculateList.carbo+=t.carbo*e*.01,a.calculateList.protein+=t.protein*e*.01,a.calculateList.fat+=t.fat*e*.01,a.drawChart(a.calculateList),a.foodRecord(t,e),a.foodWeight="",localStorage.setItem("currentCalc",JSON.stringify(a.calculateList)))},foodRecord:function(t,e){var a=this,i={food:t.name,weight:e},o=a.eatFoods.some((function(t){return t.food===i.food})),n=a.eatFoods.findIndex((function(t){return t.food===i.food}));o?a.eatFoods[n].weight=1*a.eatFoods[n].weight+1*i.weight:a.eatFoods.push(i),localStorage.setItem("todayFoods",JSON.stringify(a.eatFoods))},drawChart:function(t){var e=this,a=4*t.carbo/t.calories,i=4*t.protein/t.calories,o=9*t.fat/t.calories,n=(t.calories-9*t.fat-4*t.protein-4*t.carbo)/t.calories;e.chartData={labels:["carbo","protein","fat","other"],datasets:[{label:["carbo","protein","fat","other"],backgroundColor:["#28a745","#ffeeba","#dc3545","#000000"],data:[(100*a).toFixed(2),(100*i).toFixed(2),(100*o).toFixed(2),(100*n).toFixed(2)],borderWidth:5,borderColor:"#ccc"}]},localStorage.setItem("currentChart",[(100*a).toFixed(2),(100*i).toFixed(2),(100*o).toFixed(2),(100*n).toFixed(2)])},preDraw:function(){var t=this;t.chartData.datasets[0].data=localStorage.getItem("currentChart")?localStorage.getItem("currentChart").split(","):[0,0,0,0]},getCalc:function(){var t=this;t.calculateList=JSON.parse(localStorage.getItem("currentCalc"))||{calories:0,carbo:0,protein:0,fat:0}},clear:function(){var t=this;t.chartData={labels:["carbo","protein","fat","other"],datasets:[{label:["carbo","protein","fat","other"],backgroundColor:["#28a745","#ffeeba","#dc3545","#000000"],data:[0,0,0,0]}]},t.calculateList.calories=0,t.calculateList.carbo=0,t.calculateList.protein=0,t.calculateList.fat=0,t.eatFoods=[],localStorage.setItem("currentCalc",JSON.stringify(t.calculateList)),localStorage.setItem("currentChart",[0,0,0,0]),localStorage.setItem("todayFoods",JSON.stringify(t.eatFoods))},record:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.axios({url:"".concat("https://infinite-beach-58519.herokuapp.com","/api/posts"),method:"post",headers:{"auth-token":t.$store.state.token},data:{todayInfo:t.calculateList,date:"".concat((new Date).getFullYear(),"-").concat((new Date).getMonth()+1,"-").concat((new Date).getDate())},onUploadProgress:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.recordBtn.text="上傳中",t.recordBtn.status=!1,console.log(a.loaded);case 3:case"end":return e.stop()}}),e)})));function a(t){return e.apply(this,arguments)}return a}()});case 3:a=e.sent,200===a.status&&(i=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,setTimeout((function(){t.recordBtn.status=!0}),1e3);case 2:return e.next=4,setTimeout((function(){t.recordBtn.text="登錄結果"}),1e3);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),console.log("end"),t.recordBtn.text="上傳完成",i(),t.$modal.show("dialog",{title:"成功登錄今日計算結果",text:"要查看紀錄嗎?",buttons:[{title:"YES",handler:function(){t.$modal.hide("dialog"),t.$router.push({path:"/analyze"})}},{title:"NO",handler:function(){t.$modal.hide("dialog")}}]})),e.next=12;break;case 7:e.prev=7,e.t0=e["catch"](0),"Invalid token, please relog"===e.t0.response.data&&t.$store.commit("LOGOUT"),t.recordBtn.text=e.t0.response.data,setTimeout((function(){return t.$modal.show(tt["a"],{},{height:"auto",width:"300px"})}),1e3);case 12:case"end":return e.stop()}}),e,null,[[0,7]])})))()},getToday:function(){var t=this;t.eatFoods=JSON.parse(localStorage.getItem("todayFoods"))},getTarget:function(){var t=this;t.target=JSON.parse(localStorage.getItem("target"))},onCalories:function(t,e){var a=this;t.update(a.calculateList.calories)},onProtein:function(t,e){var a=this;t.update(a.calculateList.protein)},onCarbo:function(t,e){var a=this;t.update(a.calculateList.carbo)},onFat:function(t,e){var a=this;t.update(a.calculateList.fat)}},beforeCreate:function(){if(localStorage.getItem("target"))return{};this.$router.push({path:"/startForm"})},created:function(){this.getFood(),this.getToday(),this.getTarget(),this.getList(),this.getCalc(),this.preDraw()},computed:{caloriesNumber:function(){return this.calculateList.calories>this.target.calories||this.calculateList.calories<this.target.calories-200?"text-danger":"text-success"},proteinNumber:function(){return this.calculateList.protein>1.2*this.target.protein||this.calculateList.protein<.8*this.target.protein?"text-danger":"text-success"},carboNumber:function(){return this.calculateList.carbo>1.2*this.target.carbo||this.calculateList.carbo<.8*this.target.carbo?"text-danger":"text-success"},fatNumber:function(){return this.calculateList.fat>this.target.fat||this.calculateList.fat<.5*this.target.fat?"text-danger":"text-success"},foods:function(){return this.$store.state.foods}}},at=et,it=(a("b915"),Object(g["a"])(at,i,o,!1,null,null,null));e["default"]=it.exports},a434:function(t,e,a){"use strict";var i=a("23e7"),o=a("23cb"),n=a("a691"),r=a("50c4"),s=a("7b0b"),l=a("65f0"),c=a("8418"),u=a("1dde"),d=a("ae40"),p=u("splice"),f=d("splice",{ACCESSORS:!0,0:0,1:2}),h=Math.max,g=Math.min,m=9007199254740991,v="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!p||!f},{splice:function(t,e){var a,i,u,d,p,f,C=s(this),b=r(C.length),_=o(t,b),V=arguments.length;if(0===V?a=i=0:1===V?(a=0,i=b-_):(a=V-2,i=g(h(n(e),0),b-_)),b+a-i>m)throw TypeError(v);for(u=l(C,i),d=0;d<i;d++)p=_+d,p in C&&c(u,d,C[p]);if(u.length=i,a<i){for(d=_;d<b-i;d++)p=d+i,f=d+a,p in C?C[f]=C[p]:delete C[f];for(d=b;d>b-i+a;d--)delete C[d-1]}else if(a>i)for(d=b-i;d>_;d--)p=d+i-1,f=d+a-1,p in C?C[f]=C[p]:delete C[f];for(d=0;d<a;d++)C[d+_]=arguments[d+2];return C.length=b-i+a,u}})},b915:function(t,e,a){"use strict";var i=a("4fad"),o=a.n(i);o.a},c740:function(t,e,a){"use strict";var i=a("23e7"),o=a("b727").findIndex,n=a("44d2"),r=a("ae40"),s="findIndex",l=!0,c=r(s);s in[]&&Array(1)[s]((function(){l=!1})),i({target:"Array",proto:!0,forced:l||!c},{findIndex:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),n(s)}}]);
//# sourceMappingURL=chunk-4e636a3c.8af06525.js.map